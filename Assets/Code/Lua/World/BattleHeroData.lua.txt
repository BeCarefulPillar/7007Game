
local M = {}

function M:update()
    local h = CS.UnityEngine.Input.GetAxis("Horizontal")
    if h > 0 then
        self.dir = 1
    elseif h < 0 then
        self.dir = -1
    end
    self.pos[1] = self.pos[1] + CS.UnityEngine.Time.deltaTime * self.speed * self.dir * math.abs(h)
end

function M:lateUpdate()

end

local function toClass(t)
    t = t or {}
    return M.makeObject({
        typeId = t.typeId,
        name = t.name or "",
        hp = t.hp or 1000,
        atk = t.atk or 10,
        size = t.size or {24,37},  --目前是meshrender大小 之后这个里面的数据全部写到表中
        pos = t.pos or {0,0},
        speed = 10,
        dir = 1,
    })
end

function M.new(hero)
    local hero = toClass(hero)
    return hero
end

function M.makeObject(t)
    return setmetatable(t, {__index=M})
end

return M